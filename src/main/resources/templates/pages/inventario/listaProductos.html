<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=>, initial-scale=1.0">
	<title>Lista Productos</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

	<link href="https://getbootstrap.com/docs/3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

	<link rel="stylesheet" href="../css/encabezado.css">
	<link rel="stylesheet" href="../css/imagenes.css">
	<link rel="stylesheet" href="../css/colores_pag.css">
	<link rel="stylesheet" href="../css/contenedores.css">

	<script src="../js/busqueda.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
		integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
		crossorigin="anonymous"></script>

	<script src="jquery-3.6.0.min.js"></script>

</head>

<body id="productoNuevoPag">
	<nav class="nav">

		<ul class="nav nav-tabs">
			<label id="titulo_sis">MARK WEB</label>
			<li class="nav-item">
				<a class="nav-link" href="#" th:href="@{/inventario/menu}">Inicio</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#" th:href="@{/inventario/productoNuevo}">Registrar Producto</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#" th:href="@{/inventario/actualizarProducto}">Actualizar Producto</a>
			</li>
			<li class="nav-item">
				<a class="nav-link active" aria-current="page">Lista de productos </a>
			</li>
		</ul>
		<div id="user_ic1">
			<span id="us" class="bi bi-file-person-fill"><label th:text="${nombreUser}"></label></span>
			<li sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Cerrar sesi&oacute;n</a></li>
		</div>
	</nav>
	<div class=container my-5>
		<div class="card-body">

			<div class=container my-5>
				<div class="card-body">
					<table class="table table-danger table-hover" id=tabla1>
						<thead>
							<tr>
								<th>Nombre</th>
								<th>Código de Barras</th>
								<th>Descripción</th>
								<th>Costo Promedio</th>
								<th>Precio de venta</th>
								<th>Stock Actual</th>

								<th>Eliminar</th>
								<th>Actualizar</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="producto, iterador : ${productos}">
								<td th:text="${producto.nombre}"></td>
								<td th:text="${producto.codigoBarras}"></td>
								<td th:text="${producto.descripcion}"></td>
								<td th:text="${producto.costoPromedio}"></td>
								<td th:text="${producto.precioVenta}"></td>
								<td th:text="${producto.stockActual}"></td>

								<td>
									<form th:action="@{/inventario/borrarProducto/{id}(id=${producto.id})}"
										th:method="delete" , th:object=${producto}>
										<input type="submit" class="btn btn-dark" value="Eliminar" , id=bot1>
										</button>
									</form>
								</td>
								<td>
									<form th:action="@{/inventario/actualizacionProducto/{id}(id=${producto.id})}"
										th:method="get" , th:object=${producto}>
										<input type="submit" class="btn btn-dark" value="Actualizar" , id=bot1>
										</button>
									</form>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>
</body>

</html>